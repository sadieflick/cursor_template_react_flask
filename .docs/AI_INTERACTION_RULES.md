# Rules for AI Assistant Interaction

To ensure a deterministic, controlled, and high-quality development process, you (the human developer) and the AI assistant (Cursor) must adhere to the following rules.

### Rule #1: The Golden Rule - Incrementalism
**ALL** development will be performed in small, logical, and verifiable increments. **NEVER** ask the AI to "build the feature." Instead, break the feature down into its smallest constituent parts (e.g., "create the database model," "create the API endpoint," "create the failing test for the endpoint," "create the frontend component").

### Rule #2: Context is King
Every prompt must provide sufficient context.
- Use the `@` symbol in Cursor to reference relevant files (e.g., `@/.docs/ARCHITECTURE.md`).
- For code generation, always have the target file open and selected.
- Explicitly state which specification or architectural constraint the request relates to.

### Rule #3: TDD is Law
Follow this strict Test-Driven Development cycle for all backend logic and critical frontend logic:
1.  **Write a Failing Test**: The first step is always to ask the AI to write a test that describes the desired functionality and fails because the functionality doesn't exist.
2.  **Write Code to Pass**: The second step is to ask the AI to write the *minimum* amount of code necessary to make the failing test pass.
3.  **Refactor**: Once the test passes, you can ask the AI to refactor the code for clarity, performance, or adherence to standards, ensuring the test still passes.

### Rule #4: Specificity and Imperative Language
Use clear, direct, and imperative commands.
- **Good**: "In `backend/app/models.py`, create a SQLAlchemy model named `Post` with fields `id`, `title`, and `content_html` as defined in `@/.docs/ARCHITECTURE.md`."
- **Bad**: "I need a way to store blog posts."

### Rule #5: One Logical Change Per Prompt
Each prompt should result in a single, atomic commit. Do not bundle unrelated changes.
- **Good**: A prompt to create a model. A separate prompt to create the API resource for that model.
- **Bad**: A single prompt to create the model, resource, tests, and frontend component.

### Rule #6: Human is the Final Verifier
The human developer is responsible for:
- Reviewing every line of code generated by the AI.
- Running the tests to verify the changes.
- Ensuring the change aligns with the project goals.
- Committing the verified code with a Conventional Commit message.

---